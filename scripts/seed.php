<?php

$fnames = [
    "Kasun", "Tharindu", "Supun", "Pasindu", "Lahiru", "Isuru", "Gayan", "Chathura", "Thilina", "Shehan", "Ravindu", "Sandun", "Tharaka", "Sanjeewa", "Ishara", "Buddhika", "Amila", "Hasitha", "Sampath", "Sahan", "Sachintha", "Ruwan", "Roshan", "Aruna", "Ashan", "Nuwan", "Channa", "Duminda", "Hashan", "Chamath", "Rajitha", "Akila", "Sumudu", "Induwara", "Dinesh", "Ranga", "Kavindu", "Shan", "Anjana", "Kevin", "Sasindu", "Chathuranga", "Amal", "Danushka", "Mahesh", "Asanka", "Janitha", "Heshan", "Dilshan", "Tharanga", "Chanaka", "Sachin", "Nishan", "Thushara", "Samith", "Gihan", "Pradeep", "Lakshan", "Sameera", "Chinthaka", "Manoj", "Sasun", "Rehan", "Indika", "Janith", "Sanjaya", "Ashen", "Imran", "Deshan", "Dulaj", "Sajith", "Hasith", "Shashin", "Naveen", "Chanuka", "Ravi", "Shanaka", "Rahmath ali", "Yohan", "Dilan", "Ananda", "Kusal", "Sachith", "Darshana", "Sithija", "Lakmal", "Harsha", "Chamara", "Shanuka", "Maduranga", "Khaalid", "Malindu", "Ayesh", "Udula", "Uvindu", "Muditha", "Udana", "Suranga", "Chiran", "Sasith", "Bhagya", "Tharushi", "Sachini", "Hiruni", "Janani", "Fathima", "Rashmi", "Thilini", "Samadhi", "Amanda", "Nethmi", "Chathu", "Nipuni", "Sanduni", "Upeksha", "Sara", "Shehara", "Harshani", "Ama", "Gayani", "Dinithi", "Hansi", "Senuri", "Hashani", "Kalpani", "Piyumi", "Dewmini", "Saumya", "Shashini", "Yashodha", "Chathuri", "Isuri", "Kaushi", "Sandali", "Nimesha", "Hansani", "Sachi", "Nayani", "Hansika", "Priya", "Dinusha", "Shani", "Shehani", "Supuni", "Nathasha", "Anu", "Shashi", "Kasuni", "Jayani", "Vinodi", "Iresha", "Anjalee", "Alexcia", "Amaya", "Sarah", "Aysha", "Himasha", "Piumi", "Vishaka", "Geethma", "Nadeesha", "Savindi", "Dhanu", "Tharindi", "Natasha", "Chathuni", "Anuradha", "Vishmi", "Madu", "Shalini", "Wathsala", "Pawani", "Sandani", "Imesha", "Ann", "Sewwandi", "Sithmi", "Kavindi", "Nimasha", "Roshani", "Navoda", "Dilini", "Kalani", "Navodya", "Sithara", "Noofa", "Anjali", "Sanju", "Shakya", "Visuri", "Kaveesha", "Maleesha", "Sathya", "Nishi", "Mahesha", "Malki", "Dili", "Ishka", "Mihiransi", "Chamudi"
];

$surnames = [
    "Abeykoon", "Abeysinghe", "Abeywickrama", "Adikari", "Alahakoon", "Alwis", "Amarasekara", "Amarasinghe", "Anuradha", "Atapattu", "Athukorala", "Attanayake", "Balasooriya", "Balasuriya", "Bandara", "Bandaranayake", "Basnayake", "Cader", "Chandrasekara", "Chandrasiri", "Chathuranga", "Cooray", "Darshana", "Dassanayake", "de Alwis", "de Mel", "de Silva", "de Zoysa", "Desilva", "Dharmasena", "Dias", "Dilrukshi", "Dilshan", "Dissanayaka", "Dissanayake", "Edirisinghe", "Ekanayaka", "Ekanayake", "Fernando", "Fonseka", "Gamage", "Gayan", "Gunarathna", "Gunarathne", "Gunaratne", "Gunasekara", "Gunasekera", "Gunathilaka", "Gunathilake", "Gunawardana", "Gunawardena", "Gunawardhana", "Guruge", "Herath", "Hettiarachchi", "Hewage", "Indika", "Jayakody", "Jayalath", "Jayarathna", "Jayarathne", "Jayaratne", "Jayasekara", "Jayasekera", "Jayasinghe", "Jayasooriya", "Jayasundara", "Jayasuriya", "Jayathilaka", "Jayathilake", "Jayawardana", "Jayawardena", "Jayaweera", "Jayawickrama", "Kaluarachchi", "Kannangara", "Kariyawasam", "Karunanayake", "Karunarathna", "Karunarathne", "Karunaratne", "Kodikara", "Kodithuwakku", "Kulathunga", "Kumara", "Kumarasinghe", "Kuruppu", "Lakmal", "Lakmali", "Lanka", "Liyanage", "Maduranga", "Madusanka", "Madushan", "Madushani", "Madushanka", "Marasinghe", "Mendis", "Munasinghe", "Nanayakkara", "Nishantha", "Nissanka", "Nuwan", "Pathirana", "Peiris", "Perera", "Prabath", "Pradeep", "Prasad", "Prasanna", "Priyadarshana", "Priyadarshani", "Priyankara", "Priyantha", "Pushpakumara", "Raj", "Rajakaruna", "Rajapakse", "Rajapaksha", "Rajapakshe", "Ranasinghe", "Ranathunga", "Ranatunga", "Ranawaka", "Ranaweera", "Rathnayaka", "Rathnayake", "Ratnayake", "Rodrigo", "Roshan", "Rupasinghe", "Samarakoon", "Samaranayake", "Samarasinghe", "Samaraweera", "Samarawickrama", "Sameera", "Sampath", "Sandamali", "Sandaruwan", "Sanjeewa", "Senanayake", "Senarath", "Senarathna", "Senarathne", "Senaratne", "Senevirathna", "Senevirathne", "Seneviratne", "Siriwardana", "Siriwardena", "Sri", "Subasinghe", "Suranga", "Suraweera", "Tennakoon", "Tharanga", "Thilakarathna", "Thilakarathne", "Tissera", "Udayanga", "Vithanage", "Wanniarachchi", "Weerakkody", "Weerakoon", "Weerasekara", "Weerasinghe", "Weerasooriya", "Wickramasinghe", "Wijekoon", "Wijerathna", "Wijerathne", "Wijeratne", "Wijesekara", "Wijesinghe", "Wijesooriya", "Wijesundara", "Wijesuriya", "Withanage", "Yapa",
];

$pet_names = [
    "Bella", "Charlie", "Luna", "Coco", "Max", "Ruby", "Molly", "Buddy", "Milo", "Archie", "Frankie", "Daisy", "Rosie", "Ollie", "Lucy", "Lola", "Minnie", "Oscar", "Teddy", "Leo", "Bailey", "Nala", "Millie", "Alfie", "Poppy", "Bear", "Rocky", "Toby", "Roxy", "Pepper", "Mia", "Lily", "Willow", "Jack", "Lulu", "Tilly", "Ziggy", "Bonnie", "Harry", "Hugo", "George", "Maggie", "Marley", "Missy", "Cooper", "Harley", "Simba", "Loki", "Jasper", "Winston", "Benji", "Billy", "Louie", "Monty", "Lilly", "Penny", "Chloe", "Shadow", "Zeus", "Murphy", "Honey", "Henry", "Cookie", "Cleo", "Lexi", "Bruno", "Gus", "Charlie", "Ellie", "Stella", "Winnie", "Duke", "Diesel", "Pippa", "Dexter", "Rusty", "Koda", "Sasha", "Zoe", "Bruce", "Billie", "Milly", "Oreo", "Harvey", "Baxter", "Scout", "Louis", "Jessie", "Evie", "Banjo", "Ralph", "Lucky", "Ella", "Arlo", "Dusty", "Rex", "Holly", "Barney", "Jax", "Sam",
];

function execute($query)
{
    global $conn;
    $conn->query($query);
    if ($conn->error) {
        echo "<span style='color:red;'>$conn->errno : $conn->error</span>";
        echo $query;
    }
}
print("Success");
$today = strtotime("Today");
$enddate = date('Y-m-d', strtotime("-1 day", $today));
$q = " INSERT INTO `consultation` ( `consultation_date`, `consultation_time`, `animal_id`, `doctor_user_id`, `user_id`, `status`, `type`, `payment_txn_id`,`doctor_rating`, `meeting_id`) 
VALUES 
('" . date('Y-m-d', strtotime("-3 day", $today)) . "', '11:30:00', 38, 1, 14,	'COMPLETED',	'LIVE',	NULL,	NULL,	'7ewh-ve15-16uf'),
('" . date('Y-m-d', strtotime("-2 day", $today)) . "', '13:00:00', 33, 1, 9 ,	'COMPLETED',	'LIVE',	NULL,	NULL,	'7ewh-ve15-16uf'),
('" . date('Y-m-d', strtotime("-2 day", $today)) . "', '16:00:00', 45, 1, 21,	'CANCELLED',	'LIVE',	NULL,	NULL,	'7ewh-ve15-16uf'),
('" . date('Y-m-d', strtotime("-1 day", $today)) . "', '12:00:00', 4 , 1, 3 ,     'ACCEPTED',   'ADVISE',     NULL,  NULL,  NULL),
('" . date('Y-m-d', strtotime("-1 day", $today)) . "', '12:30:00', 31, 1, 7 ,	'COMPLETED',	'LIVE',	NULL,	NULL,	'7ewh-ve15-16uf'),
('" . date('Y-m-d', strtotime("-1 day", $today)) . "', '14:30:00', 42, 1, 18,	'COMPLETED',	'LIVE',	NULL,	NULL,	'7ewh-ve15-16uf'),
('" . date('Y-m-d', strtotime("-1 day", $today)) . "', '15:30:00', 44, 1, 20,	'COMPLETED',	'LIVE',	NULL,	NULL,	'7ewh-ve15-16uf'),
('" . date('Y-m-d', strtotime("-0 day", $today)) . "', '10:30:00', 10, 1, 3 ,     'ACCEPTED',   'ADVISE', 'cs_test_NjIzMzcxNzg1ODIuMTY4Mw==ODI0NDc2NTUxMzEuMDMxMzQ=MzIxMjE4MD',NULL,'7ewh-ve15-16uf'),
('" . date('Y-m-d', strtotime("-0 day", $today)) . "', '11:30:00', 9 , 1, 3 ,     'PENDING',    'LIVE',       NULL,  NULL,  '7ewh-ve15-16uf'),
('" . date('Y-m-d', strtotime("-0 day", $today)) . "', '12:30:00', 40, 1, 16,	'COMPLETED',	'LIVE',	NULL,	NULL,	'7ewh-ve15-16uf'),
('" . date('Y-m-d', strtotime("-0 day", $today)) . "', '14:00:00', 41, 1, 17,	'COMPLETED',	'LIVE',	NULL,	NULL,	'7ewh-ve15-16uf'),
('" . date('Y-m-d', strtotime("-0 day", $today)) . "', '16:30:00', 46, 1, 22,	'COMPLETED',	'LIVE',	NULL,	NULL,	'7ewh-ve15-16uf'),
('" . date('Y-m-d', strtotime("-0 day", $today)) . "', '17:00:00', 47, 1, 23,	'COMPLETED',	'LIVE',	NULL,	NULL,	'7ewh-ve15-16uf'),
('" . date('Y-m-d', strtotime("-0 day", $today)) . "', '17:30:00', 48, 1, 24,	'COMPLETED',	'LIVE',	NULL,	NULL,	'7ewh-ve15-16uf'),
('" . date('Y-m-d', strtotime("-0 day", $today)) . "', '18:00:00', 49, 1, 25,	'EXPIRED',	'LIVE',	NULL,	NULL,	'7ewh-ve15-16uf'),
('" . date('Y-m-d', strtotime("-0 day", $today)) . "', '18:30:00', 50, 1, 26,	'EXPIRED',	'LIVE',	NULL,	NULL,	'7ewh-ve15-16uf'),
('" . date('Y-m-d', strtotime("-0 day", $today)) . "', '19:00:00', 51, 1, 27,	'COMPLETED',	'LIVE',	NULL,	NULL,	'7ewh-ve15-16uf'),
('" . date('Y-m-d', strtotime("-0 day", $today)) . "', '19:30:00', 52, 1, 28,	'EXPIRED',	'LIVE',	NULL,	NULL,	'7ewh-ve15-16uf'),
('" . date('Y-m-d', strtotime("+1 day", $today)) . "', '10:00:00', 5 , 1, 4 ,     'COMPLETED',  'ADVISE',     NULL,  NULL,  NULL),
('" . date('Y-m-d', strtotime("+1 day", $today)) . "', '15:00:00', 43, 1, 19,	'COMPLETED',	'LIVE',	NULL,	NULL,	'7ewh-ve15-16uf'),
('" . date('Y-m-d', strtotime("+1 day", $today)) . "', '12:00:00', 39, 1, 15,	'EXPIRED',	'LIVE',	NULL,	NULL,	'7ewh-ve15-16uf'),
('" . date('Y-m-d', strtotime("+1 day", $today)) . "', '12:30:00', 32, 1, 8 ,	'COMPLETED',	'LIVE',	NULL,	NULL,	'7ewh-ve15-16uf'),
('" . date('Y-m-d', strtotime("+1 day", $today)) . "', '13:30:00', 34, 1, 10,	'COMPLETED',	'LIVE',	NULL,	NULL,	'7ewh-ve15-16uf'),
('" . date('Y-m-d', strtotime("+1 day", $today)) . "', '14:30:00', 36, 1, 12,	'COMPLETED',	'LIVE',	NULL,	NULL,	'7ewh-ve15-16uf'),
('" . date('Y-m-d', strtotime("+2 day", $today)) . "', '09:00:00', 2 , 1, 2 ,     'COMPLETED',  'ADVISE',     NULL,  NULL,  NULL),
('" . date('Y-m-d', strtotime("+2 day", $today)) . "', '11:00:00', 37, 1, 13,	'COMPLETED',	'LIVE',	NULL,	NULL,	'7ewh-ve15-16uf'),
('" . date('Y-m-d', strtotime("+2 day", $today)) . "', '11:30:00', 5 , 1, 4 ,     'ACCEPTED',   'LIVE',       NULL,  NULL,  '7ewh-ve15-16uf'),
('" . date('Y-m-d', strtotime("+2 day", $today)) . "', '12:00:00', 6 , 1, 2 ,     'COMPLETED',  'ADVISE',     NULL,  NULL,  NULL),
('" . date('Y-m-d', strtotime("+2 day", $today)) . "', '12:30:00', 8 , 1, 2 ,     'ACCEPTED',   'ADVISE',     NULL,  NULL,  NULL),
('" . date('Y-m-d', strtotime("+2 day", $today)) . "', '13:30:00', 7 , 1, 3 ,     'ACCEPTED',   'LIVE',       NULL,  NULL,  '7ewh-ve15-16uf'),
('" . date('Y-m-d', strtotime("+2 day", $today)) . "', '14:00:00', 35, 1, 11,	'CANCELLED',	'LIVE',	NULL,	NULL,	'7ewh-ve15-16uf'),
('" . date('Y-m-d', strtotime("+2 day", $today)) . "', '14:30:00', 6 , 1, 2 ,     'ACCEPTED',   'ADVISE',     NULL,  NULL,  NULL),
('" . date('Y-m-d', strtotime("+3 day", $today)) . "', '09:30:00', 2 , 1, 2 ,     'COMPLETED',  'LIVE',       NULL,  NULL,  '7ewh-ve15-16uf'),
('" . date('Y-m-d', strtotime("+3 day", $today)) . "', '13:00:00', 1 , 1, 3 ,     'ACCEPTED',   'LIVE',       NULL,  NULL,  '7ewh-ve15-16uf'),
('" . date('Y-m-d', strtotime("+3 day", $today)) . "', '13:30:00', 7 , 1, 3 ,     'COMPLETED',  'ADVISE',     NULL,  NULL,  NULL)
;";
//print($q);
die();
execute($q);
die();

$k = 1;
for ($i = 1; $i < 30; $i++) {
    $start = rand(8, 15);
    $end = $start + rand(1, 6);

    $status = ["PENDING", "PENDING", "PENDING", "PENDING", "PENDING", "ACCEPTED", "ACCEPTED", "CANCELLED"];
    if ($i < getdate()['mday']) {
        $status = ["COMPLETED", "COMPLETED", "COMPLETED", "COMPLETED", "COMPLETED", "EXPIRED", "CANCELLED"];
    }

    for ($j = $start; $j < $end; $j++) {

        // user
        $query = "INSERT INTO `user` (`name`, `email`, `telephone`, `address`, `password`, `email_verified`, `telephone_verified`) VALUES ('"
            . $fnames[rand(0, sizeof($fnames))] . " " . $surnames[rand(0, sizeof($surnames))] .
            "', 'u$k@example.com', '07" . rand(10000000, 89999999) . "', 'user $l address', '$2y$10\$VnsCjO9nOHxbaSrOubIJFuadqw.hkaGgcg4DoKGAAYyooimqMhbGW', 1, 1) ";
        execute($query);
        $k++;
        $uid = $conn->insert_id;

        $type = ['dog', 'cat', 'dog', 'dog'][rand(0, 3)];


        // pet
        $query = "INSERT INTO `animal` ( `type`, `name`, `gender`, `dob`, `color`,`photo`) 
        VALUES ('$type', '" . $pet_names[rand(0, sizeof($pet_names) - 1)] . "', '" . ['Male', 'Female'][rand(0, 1)] . "',   '20" . rand(14, 21) . "-0" . rand(1, 9) . "-01', 
        '[\"Black\"]','/assets/data/" . $type . "s/" . rand(1, $type == 'cat' ? 10 : 20) . ".jpg');";
        execute($query);
        $animal_id = $conn->insert_id;
        $query = "INSERT INTO `user_pet` (`animal_id`, `user_id`, `status`) VALUES ($animal_id, $uid, 'ACTIVE')";
        execute($query);

        $query = "INSERT INTO `consultation` ( `consultation_date`, `consultation_time`, `animal_id`, `doctor_user_id`, `user_id`, `status`, `type`, `payment_txn_id`) 
            VALUES ('2022-" . str_pad(getdate()['mon'], 2, "0", STR_PAD_LEFT) . "-" . str_pad($i, 2, "0", STR_PAD_LEFT) . "', 
            '" . str_pad($j, 2, "0", STR_PAD_LEFT) . ":00:00', '" .  $animal_id . "', '1', '" . $uid . "', '" . $status[rand(0, sizeof($status) - 1)] . "', 'LIVE', NULL)";
        execute($query);

        // user
        $query = "INSERT INTO `user` (`name`, `email`, `telephone`, `address`, `password`, `email_verified`, `telephone_verified`) VALUES ('"
            . $fnames[rand(0, sizeof($fnames))] . " " . $surnames[rand(0, sizeof($surnames))] .
            "', 'u$k@example.com', '07" . rand(10000000, 89999999) . "', 'user $l address', '$2y$10\$VnsCjO9nOHxbaSrOubIJFuadqw.hkaGgcg4DoKGAAYyooimqMhbGW', 1, 1) ";
        execute($query);
        $k++;
        $uid = $conn->insert_id;

        $type = ['dog', 'cat', 'dog', 'dog'][rand(0, 3)];

        // pet
        $query = "INSERT INTO `animal` ( `type`, `name`, `gender`, `dob`, `color`,`photo`) 
            VALUES ('$type', '" . $pet_names[rand(0, sizeof($pet_names) - 1)] . "', '" . ['Male', 'Female'][rand(0, 1)] . "',   '20" . rand(14, 21) . "-0" . rand(1, 9) . "-01', 
            '[\"Black\"]','/assets/data/" . $type . "s/" . rand(1, $type == 'cat' ? 10 : 20) . ".jpg');";
        execute($query);
        $animal_id = $conn->insert_id;

        $query = "INSERT INTO `user_pet` (`animal_id`, `user_id`, `status`) VALUES ($animal_id, $uid, 'ACTIVE')";
        execute($query);

        $query = "INSERT INTO `consultation` ( `consultation_date`, `consultation_time`, `animal_id`, `doctor_user_id`, `user_id`, `status`, `type`, `payment_txn_id`) 
                VALUES ('2022-" . str_pad(getdate()['mon'], 2, "0", STR_PAD_LEFT) . "-" . str_pad($i, 2, "0", STR_PAD_LEFT) . "', 
                '" . str_pad($j, 2, "0", STR_PAD_LEFT) . ":30:00', '" .  $animal_id . "', '1', '" . $uid . "', '" . $status[rand(0, sizeof($status) - 1)] . "', 'LIVE', NULL)";
        execute($query);
    }
}
